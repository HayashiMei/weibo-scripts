# weibo-scripts

## Introduction

突然想把无效(指因举报或博主设置等各种原因导致看不到原微博内容)的转发微博清理下，懒得找有没有现成的脚本，自己写了个简单的用用。

目前只用来删除无效的转发微博和无效的点赞。

* `删除无效转发`会跳过可能是抽奖且尚未开奖的转发。
* `取消无效点赞`没有起止年月的限制。
* 由于微博的接口返回的记录总会有遗漏，建议多跑几次

## Run

在根目录下新建一个 `.env` 文件，配置以下字段。

| Secrets     | 格式                                                                                               |
| ----------- | -------------------------------------------------------------------------------------------------- |
| UID         | 微博 UID                                                                                           |
| COOKIE      | 登录微博后，随便一个微博请求（比如 https://weibo.com/ajax/statuses/mymblog 请求）的请求头的 Cookie |
| TOKEN       | 同上，请求头中的 x-xsrf-token                                                                      |
| START_YEAR  | 开始年份                                                                                           |
| START_MONTH | 开始月份                                                                                           |
| END_YEAR    | 终止年份                                                                                           |
| END_MONTH   | 终止月份                                                                                           |

起止年月字段只用于删除功能。

## Attention

只是简单写了一下，没有做什么有效性的校验。
